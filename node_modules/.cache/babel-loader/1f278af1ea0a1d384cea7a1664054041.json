{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\lluna\\\\bootcamp\\\\collab\\\\los-chicotes\\\\skylab-bootcamp-201901\\\\staff\\\\groups\\\\null\\\\smart-fridge\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\lluna\\\\bootcamp\\\\collab\\\\los-chicotes\\\\skylab-bootcamp-201901\\\\staff\\\\groups\\\\null\\\\smart-fridge\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\lluna\\\\bootcamp\\\\collab\\\\los-chicotes\\\\skylab-bootcamp-201901\\\\staff\\\\groups\\\\null\\\\smart-fridge\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\lluna\\\\bootcamp\\\\collab\\\\los-chicotes\\\\skylab-bootcamp-201901\\\\staff\\\\groups\\\\null\\\\smart-fridge\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\lluna\\\\bootcamp\\\\collab\\\\los-chicotes\\\\skylab-bootcamp-201901\\\\staff\\\\groups\\\\null\\\\smart-fridge\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\lluna\\\\bootcamp\\\\collab\\\\los-chicotes\\\\skylab-bootcamp-201901\\\\staff\\\\groups\\\\null\\\\smart-fridge\\\\src\\\\Components\\\\Results\\\\index.js\";\nimport React, { Component } from 'react';\nimport './index.sass';\nimport logic from '../../logic';\n\nvar Results =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Results, _Component);\n\n  function Results() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Results);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Results)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      favourites: JSON.parse(sessionStorage.getItem('user')).favourites\n    };\n\n    _this.handleOnDetail = function (recipeUri) {\n      _this.props.onDetail(recipeUri);\n    };\n\n    _this.handleOnFavourite = function (recipe) {\n      // this.isMarked(recipe.recipe.uri)\n      _this.props.onFavourite(recipe);\n    };\n\n    _this.move = function (info) {\n      var s = info.split('-');\n\n      if (s.length > 1) {\n        var frame = function frame() {\n          if (width >= number) {\n            clearInterval(id);\n          } else {\n            width++;\n            elem && (elem.style.width = width + '%');\n          }\n        };\n\n        var elem = _this.refs[info];\n        var number = Number(info.split('-')[1]);\n        var width = 0;\n        var id = setInterval(frame, 20);\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Results, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      Object.keys(this.refs).forEach(function (key) {\n        return _this2.move(key);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var user = JSON.parse(sessionStorage.getItem('user'));\n      var maxCalories = logic.caloriesCounter(user.gender, user.height, user.weight, user.birthDate, user.lifeStyle);\n      var recipes = this.props.recipes;\n      return React.createElement(\"section\", {\n        className: \"results\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card_columns row m-2 mt-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, recipes.map(function (recipe, n) {\n        return React.createElement(\"div\", {\n          key: recipe.recipe.uri,\n          className: \"col-12 col-sm-6 col-lg-4 mt-2 results__box\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"card p-2 mt-2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"card-body\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }, React.createElement(\"h5\", {\n          className: \"card-title text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, recipe.recipe.label), React.createElement(\"div\", {\n          className: \"results__image-favorite\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          className: \"card-img-top\",\n          alt: \"recipe\",\n          src: recipe.recipe.image,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }), React.createElement(\"i\", {\n          onClick: function onClick() {\n            return _this3.handleOnFavourite(recipe);\n          },\n          className: JSON.parse(sessionStorage.getItem('user')).favourites.find(function (favorite) {\n            return favorite.recipe.uri === recipe.recipe.uri;\n          }) ? \"far fa-heart fa-heart-red\" : \"far fa-heart\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"mt-4 flex\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          className: \"font-weight-bold mb-0 results__nutrients\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, \"Total Calories: \", React.createElement(\"span\", {\n          className: \"font-weight-normal\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, (recipe.recipe.totalNutrients.ENERC_KCAL.quantity / recipe.recipe.yield).toFixed() + 'Kcal')), React.createElement(\"div\", {\n          className: \"progressBarContainer\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          id: \"progressBar total\",\n          ref: \"progressBar\".concat(n, \"-\").concat(recipe.recipe.totalNutrients.ENERC_KCAL.quantity / recipe.recipe.yield / maxCalories * 100),\n          className: \"progressBar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        })), React.createElement(\"label\", {\n          className: \" mt-3 mb-0  results__nutrients\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, \"Carbohydrates\"), React.createElement(\"div\", {\n          className: \"progressBarContainer-nutrients\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          id: \"progressBar\",\n          ref: \"progressBar\",\n          className: \"progressBar-nutrients\",\n          style: {\n            width: recipe.recipe.totalNutrients.CHOCDF.quantity / recipe.recipe.yield / (recipe.recipe.totalNutrients.ENERC_KCAL.quantity / recipe.recipe.yield) * 100 * 4 + '%'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        })), React.createElement(\"label\", {\n          className: \" results__nutrients  mb-0\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, \"Proteins\"), React.createElement(\"div\", {\n          className: \"progressBarContainer-nutrients\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          id: \"progressBar\",\n          ref: \"progressBar\",\n          className: \"progressBar-nutrients\",\n          style: {\n            width: recipe.recipe.totalNutrients.PROCNT.quantity / recipe.recipe.yield / (recipe.recipe.totalNutrients.ENERC_KCAL.quantity / recipe.recipe.yield) * 100 * 4 + '%'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        })), React.createElement(\"label\", {\n          className: \"results__nutrients mb-0\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }, \"Fats\"), React.createElement(\"div\", {\n          className: \"progressBarContainer-nutrients\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          id: \"progressBar\",\n          ref: \"progressBar\",\n          className: \"progressBar-nutrients\",\n          style: {\n            width: recipe.recipe.totalNutrients.FAT.quantity / recipe.recipe.yield / (recipe.recipe.totalNutrients.ENERC_KCAL.quantity / recipe.recipe.yield) * 100 * 9 + '%'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"row mt-4\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, recipe.recipe.totalTime ? React.createElement(\"div\", {\n          className: \"results__time font-weight-bold col-6 p-0 \",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, \"Cooking time \", React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          className: \"font-weight-normal\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, \" \", recipe.recipe.totalTime, \" minutes\")) : React.createElement(\"div\", {\n          className: \"results__time font-weight-bold col-6 p-0 \",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"col-6 pr-2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \"btn btn-dark inline mt-2\",\n          onClick: function onClick() {\n            return _this3.handleOnDetail(recipe.recipe.uri);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, \"More details\")))))));\n      })));\n    }\n  }]);\n\n  return Results;\n}(Component);\n\nexport default Results;","map":{"version":3,"sources":["C:\\Users\\lluna\\bootcamp\\collab\\los-chicotes\\skylab-bootcamp-201901\\staff\\groups\\null\\smart-fridge\\src\\Components\\Results\\index.js"],"names":["React","Component","logic","Results","state","favourites","JSON","parse","sessionStorage","getItem","handleOnDetail","recipeUri","props","onDetail","handleOnFavourite","recipe","onFavourite","move","info","s","split","length","frame","width","number","clearInterval","id","elem","style","refs","Number","setInterval","Object","keys","forEach","key","user","maxCalories","caloriesCounter","gender","height","weight","birthDate","lifeStyle","recipes","map","n","uri","label","image","find","favorite","totalNutrients","ENERC_KCAL","quantity","yield","toFixed","CHOCDF","PROCNT","FAT","totalTime"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\n\r\nimport './index.sass'\r\nimport logic from '../../logic'\r\n\r\n\r\nclass Results extends Component {\r\n\r\n    state={favourites: JSON.parse(sessionStorage.getItem('user')).favourites}\r\n\r\n    handleOnDetail = recipeUri => {\r\n        this.props.onDetail(recipeUri)\r\n    }\r\n    handleOnFavourite = recipe => {\r\n        // this.isMarked(recipe.recipe.uri)\r\n        this.props.onFavourite(recipe)\r\n    }\r\n\r\n    move = (info) => {\r\n        let s = info.split('-')\r\n        if (s.length > 1) {\r\n            let elem = this.refs[info]\r\n            let number =  Number(info.split('-')[1])\r\n\r\n            var width = 0;\r\n            var id = setInterval(frame, 20);\r\n\r\n            function frame() {\r\n            if (width >= number) {\r\n                clearInterval(id);\r\n            } else {\r\n                width++; \r\n                elem && (elem.style.width = width + '%');\r\n            }\r\n            }\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        Object.keys(this.refs).forEach(key => this.move(key))\r\n    }\r\n\r\n    render() {\r\n\r\n        const user = JSON.parse(sessionStorage.getItem('user'))\r\n        const maxCalories = logic.caloriesCounter(user.gender, user.height, user.weight, user.birthDate, user.lifeStyle)\r\n        const { recipes } = this.props\r\n\r\n        return <section className=\"results\">\r\n\r\n            <div className=\"card_columns row m-2 mt-5\">\r\n                {\r\n\r\n                    recipes.map((recipe, n) => (\r\n                        <div key={recipe.recipe.uri} className='col-12 col-sm-6 col-lg-4 mt-2 results__box'>\r\n                            <div className=\"card p-2 mt-2\">\r\n                                <div className=\"card-body\">\r\n                                    <h5 className=\"card-title text-center\">{recipe.recipe.label}</h5>\r\n                                    <div className='results__image-favorite'>\r\n                                        <img className=\"card-img-top\" alt=\"recipe\" src={recipe.recipe.image}></img>\r\n\r\n                                        <i onClick={() => this.handleOnFavourite(recipe)} className={JSON.parse(sessionStorage.getItem('user')).favourites.find(favorite=> favorite.recipe.uri===recipe.recipe.uri)? \"far fa-heart fa-heart-red\":\"far fa-heart\" }></i>\r\n\r\n                                    </div>\r\n\r\n                                    <div className='mt-4 flex'>\r\n                                        <label className='font-weight-bold mb-0 results__nutrients'>Total Calories: <span className='font-weight-normal'>{(((recipe.recipe.totalNutrients.ENERC_KCAL.quantity / recipe.recipe.yield))).toFixed() + 'Kcal'}</span></label>\r\n                                        <div className=\"progressBarContainer\">\r\n                                            <div id=\"progressBar total\" ref={`progressBar${n}-${((recipe.recipe.totalNutrients.ENERC_KCAL.quantity / recipe.recipe.yield) / maxCalories) * 100 }`} className=\"progressBar\">\r\n                                            </div>\r\n                                        </div>\r\n                                        <label className=' mt-3 mb-0  results__nutrients'>Carbohydrates</label>\r\n                                        <div className=\"progressBarContainer-nutrients\">\r\n                                            <div id=\"progressBar\" ref=\"progressBar\" className=\"progressBar-nutrients\" style={{ width: ((recipe.recipe.totalNutrients.CHOCDF.quantity / recipe.recipe.yield) / (recipe.recipe.totalNutrients.ENERC_KCAL.quantity / recipe.recipe.yield)) * 100 * 4 + '%' }}>\r\n                                            </div>\r\n                                        </div>\r\n                                        <label className=' results__nutrients  mb-0'>Proteins</label>\r\n                                        <div className=\"progressBarContainer-nutrients\">\r\n                                            <div id=\"progressBar\" ref=\"progressBar\" className=\"progressBar-nutrients\" style={{ width: ((recipe.recipe.totalNutrients.PROCNT.quantity / recipe.recipe.yield) / (recipe.recipe.totalNutrients.ENERC_KCAL.quantity / recipe.recipe.yield)) * 100 * 4 + '%' }}>\r\n                                            </div>\r\n                                        </div>\r\n                                        <label className='results__nutrients mb-0'>Fats</label>\r\n                                        <div className=\"progressBarContainer-nutrients\">\r\n                                            <div id=\"progressBar\" ref=\"progressBar\" className=\"progressBar-nutrients\" style={{ width: ((recipe.recipe.totalNutrients.FAT.quantity / recipe.recipe.yield) / (recipe.recipe.totalNutrients.ENERC_KCAL.quantity / recipe.recipe.yield)) * 100 * 9 + '%' }}>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className='row mt-4'>\r\n                                            {recipe.recipe.totalTime ? <div className=\"results__time font-weight-bold col-6 p-0 \">Cooking time <br /><span className='font-weight-normal'> {recipe.recipe.totalTime} minutes</span></div> : <div className=\"results__time font-weight-bold col-6 p-0 \"></div>}\r\n                                            <div className=\"col-6 pr-2\">\r\n                                                <button className=\"btn btn-dark inline mt-2\" onClick={()=>this.handleOnDetail(recipe.recipe.uri)}>More details</button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                }\r\n\r\n            </div>\r\n        </section>\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default Results\r\n\r\n"]},"metadata":{},"sourceType":"module"}